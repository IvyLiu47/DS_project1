# DS_project1
#include <iostream>
#include <fstream>
#include <utility>
using namespace std;

int main(int argc, char *argv[])
{
    int m, n;
    int (*matrix)[1000] = new int [1000][1000];
    //int peak[1000][2];
    pair <int ,int > peak[1000];
    int count = 0;
    ifstream infile(argv[1]);
    ofstream outfile;

    if(argc != 2){
        cout << "Input error." << endl;
        return 1;
    }
    else if(!infile){
        cout << "Can not open the file." << endl;
        return 1;
    }
    else{
        infile.open("matrix.data");
        outfile.open("final.peak");
    //cout<<"happy"<<endl;
        infile>>m>>n;
        for( int i = 0; i < m; i++)
            for( int j = 0 ; j < n; j++)
                infile>>matrix[i][j];

        for( int i = 1; i < m-1; i++){
            for( int j = 1; j < n-1; j++){
                if(matrix[i][j]>=matrix[i-1][j] && matrix[i][j]>=matrix[i+1][j] 
                   && matrix[i][j]>=matrix[i][j-1] && matrix[i][j]>=matrix[i][j+1]){
                       peak[count].first = i;
                       peak[count].second = j;
                  // peak[count][0] = i;
                   //peak[count][1] = j;
                       count++;
                    }   
            }
        }
        outfile<<count<<endl;
        for( int i = 0; i < count; i++)
            outfile<<peak[i].first<<" "<<peak[i].second<<endl;
            //cout<<peak[i][0]<<" "<<peak[i][1]<<endl;
        infile.close();
        outfile.close();
        return 0;
    }



}
